<head>
  <title>crud</title>
</head>

<body>
  <h1>CRUD</h1>

  <div class="container">  
    <form class="new-item">
      <label>Item</label>
        <input type="text" name="item" placeholder="Add Item"/>
      <label>Type</label>
        <input type="text" name="type" placeholder="Add Type"/>
      <div class="form-group">  
        <button class="btn btn-primary" type="submit">Submit Item</button>
      </div>
    </form>
  </div>
  
  <span>Toggle:{{toggle}}</span>
  
  <div class="container">
    <table class="table">
      <thead>
        <tr>
          <td>Name</td>
          <td>Type</td>
          <td>Edit</td>
          <td>Delete</td>
        </tr>
      </thead>
      <tbody>
        {{#each item in items}}
        <span>{{toggle}} | {{item._id}}</span>
          {{> row toggle=toggle item=item}}
        {{/each}}
      </tbody>
    </table>
  </div>

</body>

<template name="row">
  {{#if matching toggle item._id}}
    {{> edit}}
  {{else}}
    {{> item}}
  {{/if}}
</template>

<template name="item">
  <tr>
    <td>
      {{item.name}}
    </td>
    <td>
      {{item.type}}
    </td>
    <td>
      <button id="edit" class="btn btn-small btn-warning">Edit</button>
    </td>
    <td>
      <button id="delete" class="btn btn-small btn-danger">Delete</button>
    </td>    
  </tr>
</template>

<template name="edit">
  <tr>
    <td>
      <input type="text" value="{{item.name}}"/>
    </td>
    <td>
      <input type="text" value="{{item.type}}"/>
    </td>
    <td>
      <button id="edit" class="btn btn-small btn-warning">Edit</button>
    </td>
    <td>
      <button id="delete" class="btn btn-small btn-danger">Delete</button>
    </td>
  </tr>
</template>
