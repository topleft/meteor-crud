
<head>
  <title>crud</title>
</head>

<body>

  <br>
  <br>
  <br>
  <br>

  <div class="container">
    <div class="row">
      <div class="col-xs-6 col-center">
        <form class="new-item form-inline">
          <div class="form-group">
            <input class="form-control" type="text" name="item" placeholder="Add Item"/>
            <input class="form-control" type="text" name="type" placeholder="Add Type"/>
            <button class="btn btn-primary" type="submit">Submit Item</button>
            <button class="btn btn-info toggle-edit">Toggle Edit</button>
          </div>
        </form>
      </div>
    </div>
    
    <br>
    <br>

    <div class="col-xs-8 col-center">
      <table class="table">
        <thead>
          <tr class='container'>
            <th class="col-xs-4">Name</th>
            <th class="col-xs-4">Type</th>
            <th class="col-xs-2">Edit</th>
            <th class="col-xs-2">Delete</th>
          </tr>
        </thead>
        <tbody>
          {{#each item in items}}
            {{> row idToEdit=idToEdit item=item}}
          {{/each}}
        </tbody>
      </table>
    </div>

  </div>

</body>

<template name="row">
  {{#if matching idToEdit item._id}}
    {{> edit}}
  {{else}}
    {{> item}}
  {{/if}}
</template>

<template name="item">
  <tr class='row'>
    <td class="col-xs-4">
      {{item.name}}
    </td>
    <td class="col-xs-4">
      {{item.type}}
    </td>
    <td class="col-xs-2">
      <button id="edit" class="btn btn-small btn-warning">Edit</button>
    </td>
    <td class="col-xs-2">
      <button id="delete" class="btn btn-small btn-danger">Delete</button>
    </td>
  </tr>
</template>

<template name="edit">
  <tr class='row'>
    <td class="col-xs-4">
      <div class="form-group">
        <input class="form-control full-width" type="text" value="{{item.name}}"/>
      </div>
    </td>
    <td class="col-xs-4">
      <div class="form-group">
        <input class="form-control full-width" type="text" value="{{item.type}}"/>
      </div>
    </td>
    <td class="col-xs-2">
      <button id="edit" class="btn btn-small btn-warning">Edit</button>
    </td>
    <td class="col-xs-2">
      <button id="delete" class="btn btn-small btn-danger">Delete</button>
    </td>
  </tr>
</template>
